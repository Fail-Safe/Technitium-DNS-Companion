# Technitium-Sync Environment Configuration
# Example for Technitium DNS v13.6 and earlier (No Clustering)
#
# In v13.6, each node has its own independent admin token.
# There is no clustering support, so each node operates independently.
#
# Important Notes for v13.6:
# - Each node must have a unique admin token
# - No clustering features available (Sync tab will be hidden)
# - You must manually keep zones/settings in sync across nodes
# - All nodes will show as "Standalone" in the UI

## Authentication note (as of v1.2.1)
#
# Preferred (recommended): Technitium-backed session authentication
#   - v1.4+: interactive UI requires session auth (Technitium login/RBAC)
#   - Users log in with their Technitium DNS credentials
#   - Companion stores Technitium session tokens server-side; browser gets an HttpOnly cookie
#   - Run over HTTPS (either enable Companion HTTPS directly, or terminate TLS in a reverse proxy + TRUST_PROXY=true)
#
# Legacy (still supported): env-token mode (legacy-only for Technitium DNS < v14)
#   - For v13.x non-clustered nodes, use per-node TECHNITIUM_<NODE>_TOKEN
#   - Anyone who can reach the Companion UI effectively inherits the privileges of those tokens

## Background Token (read-only, for background jobs) - OPTIONAL
#
# NOTE (planned change): As of v1.3, TECHNITIUM_BACKGROUND_TOKEN is expected to be REQUIRED
# for background features (e.g., PTR hostname warming, scheduled sync) since background jobs
# do not have a user session context.
#
# Background timers do not have a user session context.
# If you want background features like PTR hostname warming, set a read-only token here.
# The backend will validate the token on startup and will disable background PTR warming
# if the token is too privileged (Modify/Delete/Admin) or lacks required permissions.
#
# IMPORTANT: This should be a token for a low-privilege Technitium user (read-only).
# Do NOT reuse a full admin token.
#
# TECHNITIUM_BACKGROUND_TOKEN=your-readonly-token

## Session-based Authentication (required for interactive UI in v1.4+)
#
# Reverse proxy configuration (OPTIONAL)
# TRUST_PROXY=true
# TRUST_PROXY_HOPS=1

# Backend HTTPS Configuration
HTTPS_ENABLED=false
HTTPS_PORT=3443
HTTPS_CERT_PATH=/app/certs/fullchain.cer
HTTPS_KEY_PATH=/app/certs/*.yourdomain.com.key
HTTPS_CA_PATH=/app/certs/ca.cer

# Comma-separated list of node IDs
# You can have 2+ nodes for redundancy, but they won't be in a cluster
TECHNITIUM_NODES=node1,node2,node3

## API Token Configuration
#
#  ⚠️  Warning: Keep your API tokens secure! They are credentials.
#  For most deployments as of v1.2.1, prefer session auth instead of long-lived admin tokens.

# Node 1 Configuration (Primary DNS Server)
TECHNITIUM_NODE1_NAME="Node 1"
TECHNITIUM_NODE1_BASE_URL=https://dns1.yourdomain.com:5380
TECHNITIUM_NODE1_TOKEN=unique-admin-token-for-node1

# Node 2 Configuration (Secondary DNS Server)
TECHNITIUM_NODE2_NAME="Node 2"
TECHNITIUM_NODE2_BASE_URL=https://dns2.yourdomain.com:5380
TECHNITIUM_NODE2_TOKEN=unique-admin-token-for-node2

# Node 3 Configuration (Tertiary DNS Server)
TECHNITIUM_NODE3_NAME="Node 3"
TECHNITIUM_NODE3_BASE_URL=https://dns3.yourdomain.com:5380
TECHNITIUM_NODE3_TOKEN=unique-admin-token-for-node3
